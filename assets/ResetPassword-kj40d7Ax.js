import{c as y,d as b,r as o,j as e,m as v}from"./index-CZ-q80kR.js";const f=()=>{const{token:l}=y(),c=b(),[a,p]=o.useState(""),[d,x]=o.useState(""),[s,r]=o.useState("idle"),[m,i]=o.useState(""),g=async t=>{if(t.preventDefault(),a!==d){i("Passwords do not match");return}r("loading");const u="https://techorbit-api.onrender.com";try{const n=await fetch(`${u}/api/reset-password`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:l,newPassword:a})}),h=await n.json();n.ok?(r("success"),setTimeout(()=>c("/login"),3e3)):(r("error"),i(h.error||"Invalid or expired token"))}catch{r("error"),i("Failed to connect to server")}};return e.jsx("div",{className:"container",style:{maxWidth:"400px",padding:"60px 20px"},children:e.jsxs(v.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"card",style:{padding:"30px",borderRadius:"16px",background:"var(--surface)",border:"1px solid var(--border)"},children:[e.jsxs("div",{style:{textAlign:"center",marginBottom:"30px"},children:[e.jsx("h2",{style:{fontSize:"24px",fontWeight:"bold"},children:"Reset Password"}),e.jsx("p",{style:{color:"var(--text-secondary)"},children:"Create a new password."})]}),s==="success"?e.jsxs("div",{style:{textAlign:"center"},children:[e.jsx("div",{style:{fontSize:"48px",marginBottom:"20px"},children:"ðŸŽ‰"}),e.jsx("h3",{style:{marginBottom:"10px"},children:"Password Reset!"}),e.jsx("p",{style:{color:"var(--text-secondary)",marginBottom:"20px"},children:"Redirecting to login..."})]}):e.jsxs("form",{onSubmit:g,children:[s==="error"&&e.jsx("div",{style:{padding:"10px",background:"#fee2e2",color:"#dc2626",borderRadius:"8px",marginBottom:"20px",fontSize:"14px"},children:m}),e.jsxs("div",{style:{marginBottom:"20px"},children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500"},children:"New Password"}),e.jsx("input",{type:"password",value:a,onChange:t=>p(t.target.value),className:"input-field",required:!0,minLength:6,style:{width:"100%",padding:"12px",borderRadius:"8px",border:"1px solid var(--border)",background:"var(--background)"}})]}),e.jsxs("div",{style:{marginBottom:"20px"},children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500"},children:"Confirm Password"}),e.jsx("input",{type:"password",value:d,onChange:t=>x(t.target.value),className:"input-field",required:!0,minLength:6,style:{width:"100%",padding:"12px",borderRadius:"8px",border:"1px solid var(--border)",background:"var(--background)"}})]}),e.jsx("button",{type:"submit",disabled:s==="loading",className:"btn btn-primary",style:{width:"100%",padding:"12px",fontSize:"16px"},children:s==="loading"?"Updating...":"Update Password"})]})]})})};export{f as default};
