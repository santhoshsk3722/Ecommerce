import{r as o,j as e,m as y,L as l}from"./index-ChUUJh_b.js";const b=()=>{const[s,x]=o.useState(""),[t,r]=o.useState("idle"),[p,n]=o.useState(""),[c,m]=o.useState(""),g=async i=>{i.preventDefault(),r("loading"),n("");const h="https://techorbit-api.onrender.com";try{const a=await fetch(`${h}/api/forgot-password`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:s})}),d=await a.json();a.ok?(r("success"),d.demo_token&&m(d.demo_token)):(r("error"),n(d.error||"Something went wrong"))}catch{r("error"),n("Failed to connect to server")}};return e.jsx("div",{className:"container",style:{maxWidth:"400px",padding:"60px 20px"},children:e.jsxs(y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"card",style:{padding:"30px",borderRadius:"16px",background:"var(--surface)",border:"1px solid var(--border)"},children:[e.jsxs("div",{style:{textAlign:"center",marginBottom:"30px"},children:[e.jsx("h2",{style:{fontSize:"24px",fontWeight:"bold"},children:"Forgot Password?"}),e.jsx("p",{style:{color:"var(--text-secondary)"},children:"Enter your email to reset it."})]}),t==="success"?e.jsxs("div",{style:{textAlign:"center"},children:[e.jsx("div",{style:{fontSize:"48px",marginBottom:"20px"},children:"âœ…"}),e.jsx("h3",{style:{marginBottom:"10px"},children:"Check your email"}),e.jsxs("p",{style:{color:"var(--text-secondary)",marginBottom:"20px"},children:["We've sent a recovery link to ",e.jsx("strong",{children:s}),"."]}),c&&e.jsxs("div",{style:{background:"#fef3c7",padding:"10px",borderRadius:"8px",fontSize:"12px",color:"#b45309",marginBottom:"20px",wordBreak:"break-all"},children:[e.jsx("strong",{children:"[DEMO MODE]"}),e.jsx("br",{}),"Use this link: ",e.jsx(l,{to:`/reset-password/${c}`,children:"Reset Link"})]}),e.jsx(l,{to:"/login",className:"btn btn-secondary",style:{width:"100%",display:"block",textAlign:"center"},children:"Back to Login"})]}):e.jsxs("form",{onSubmit:g,children:[t==="error"&&e.jsx("div",{style:{padding:"10px",background:"#fee2e2",color:"#dc2626",borderRadius:"8px",marginBottom:"20px",fontSize:"14px"},children:p}),e.jsxs("div",{style:{marginBottom:"20px"},children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500"},children:"Email Address"}),e.jsx("input",{type:"email",value:s,onChange:i=>x(i.target.value),className:"input-field",required:!0,style:{width:"100%",padding:"12px",borderRadius:"8px",border:"1px solid var(--border)",background:"var(--background)"}})]}),e.jsx("button",{type:"submit",disabled:t==="loading",className:"btn btn-primary",style:{width:"100%",padding:"12px",fontSize:"16px"},children:t==="loading"?"Sending...":"Send Reset Link"}),e.jsx("div",{style:{textAlign:"center",marginTop:"20px"},children:e.jsx(l,{to:"/login",style:{color:"var(--text-secondary)",fontSize:"14px"},children:"Back to Login"})})]})]})})};export{b as default};
