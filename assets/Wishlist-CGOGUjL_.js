import{u as y,e as m,r as n,j as t,L as l,m as f}from"./index-kUqbPMPm.js";const v=()=>{const{user:e}=y(),{addToCart:c}=m(),[r,o]=n.useState([]),[d,p]=n.useState(!0);n.useEffect(()=>{e&&h()},[e]);const h=async()=>{try{const s=await(await fetch(`https://techorbit-api.onrender.com/api/wishlist/${e.id}`)).json();s.message==="success"&&o(s.data)}catch(i){console.error(i)}finally{p(!1)}},x=async i=>{try{await fetch(`https://techorbit-api.onrender.com/api/wishlist/${i}`,{method:"DELETE"}),o(s=>s.filter(u=>u.wishlist_id!==i))}catch(a){console.error(a)}},g=i=>{c(i)};return e?d?t.jsx("div",{className:"container",style:{padding:"50px",textAlign:"center"},children:"Loading..."}):t.jsxs("div",{className:"container",style:{padding:"20px 0 80px"},children:[t.jsxs("h2",{style:{marginBottom:"20px",color:"var(--text-main)"},children:["Your Wishlist (",r.length,")"]}),r.length===0?t.jsxs("div",{style:{textAlign:"center",padding:"50px",background:"var(--surface)",borderRadius:"16px",color:"var(--text-secondary)"},children:[t.jsx("div",{style:{fontSize:"48px",marginBottom:"20px"},children:"ðŸ’”"}),t.jsx("h3",{children:"Your wishlist is empty"}),t.jsx("p",{style:{marginBottom:"20px"},children:"Save items you love to revisit later."}),t.jsx(l,{to:"/",className:"btn btn-primary",children:"Start Shopping"})]}):t.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:"20px"},children:r.map(i=>t.jsxs(f.div,{layout:!0,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"card product-card",style:{position:"relative"},children:[t.jsx("button",{onClick:()=>x(i.wishlist_id),style:{position:"absolute",top:"10px",right:"10px",background:"rgba(255,255,255,0.8)",border:"none",borderRadius:"50%",width:"30px",height:"30px",cursor:"pointer",zIndex:10,fontSize:"16px",display:"flex",alignItems:"center",justifyContent:"center"},children:"âœ•"}),t.jsxs(l,{to:`/product/${i.id}`,style:{textDecoration:"none",color:"inherit"},children:[t.jsx("img",{src:i.image,alt:i.title,style:{width:"100%",aspectRatio:"1/1",objectFit:"contain",background:"#f8fafc"}}),t.jsxs("div",{style:{padding:"15px"},children:[t.jsx("h4",{style:{margin:"0 0 5px",fontSize:"15px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:i.title}),t.jsxs("p",{style:{margin:0,fontWeight:"bold",color:"var(--primary)"},children:["$",i.price]})]})]}),t.jsx("div",{style:{padding:"0 15px 15px"},children:t.jsx("button",{onClick:()=>g(i),className:"btn btn-primary",style:{width:"100%",fontSize:"13px",padding:"8px"},children:"Add to Cart"})})]},i.wishlist_id))})]}):t.jsx("div",{className:"container",style:{padding:"50px",textAlign:"center"},children:"Please login to view your wishlist."})};export{v as default};
