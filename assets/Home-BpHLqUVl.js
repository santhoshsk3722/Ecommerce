import{r as l,j as e,m as g,u as R,a as W,L as z,A as T,b as A,H}from"./index-BO1qUiSh.js";import{P as L}from"./PageTransition-D3OOhlkq.js";const v="/Ecommerce/assets/default-product-RNzFitBb.png",E=({src:i,alt:h,style:d,className:o})=>{const[n,s]=l.useState(!1);return e.jsxs("div",{style:{position:"relative",overflow:"hidden",...d},className:o,children:[!n&&e.jsx("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",background:"var(--surface-hover)",zIndex:1}}),e.jsx(g.img,{src:i||v,alt:h,initial:{opacity:0},animate:{opacity:n?1:0},transition:{duration:.5,ease:"easeOut"},onLoad:()=>s(!0),onError:c=>{c.target.src!==v&&(c.target.src=v)},loading:"lazy",decoding:"async",style:{width:"100%",height:"100%",objectFit:"contain",display:"block"}})]})},S=({product:i})=>{const{user:h}=R(),{showToast:d}=W(),[o,n]=l.useState(!1),s=c=>{if(c.preventDefault(),!h)return d("Login to add to wishlist");fetch("https://techorbit-api.onrender.com/api/wishlist",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:h.id,product_id:i.id})}).then(x=>x.json()).then(x=>{x.message==="added"?(n(!0),d("Added to Wishlist")):x.message==="removed"&&(n(!1),d("Removed from Wishlist"))})};return e.jsx(g.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},whileHover:{y:-8},transition:{duration:.3},children:e.jsxs(z,{to:`/product/${i.id}`,className:"card product-card-container",children:[e.jsx(g.button,{whileHover:{scale:1.2},whileTap:{scale:.9},onClick:s,style:{position:"absolute",top:"15px",right:"15px",zIndex:10,background:"var(--surface)",borderRadius:"50%",width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"var(--shadow-sm)",cursor:"pointer",color:o?"var(--error)":"var(--text-light)",fontSize:"20px",border:"1px solid var(--border)"},children:"♥"}),e.jsx("div",{className:"product-image-container",children:e.jsx(E,{src:i.image,alt:i.title,style:{height:"100%",width:"100%"}})}),e.jsxs("div",{className:"product-info-container",children:[e.jsx("div",{style:{fontSize:"12px",color:"var(--accent)",textTransform:"uppercase",fontWeight:"600",marginBottom:"8px"},children:i.category}),e.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"10px",height:"40px",overflow:"hidden",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical"},children:i.title}),e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginTop:"15px"},children:[e.jsxs("div",{style:{fontSize:"18px",fontWeight:"700",color:"var(--primary)"},children:["$",i.price]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px",fontSize:"14px",color:"var(--text-secondary)"},children:[e.jsx("span",{style:{color:"var(--warning)"},children:"★"})," ",i.rating]})]})]})]})})},u=[{id:1,image:"https://images.unsplash.com/photo-1550745165-9bc0b252726f?auto=format&fit=crop&w=1600&q=80",title:"Next Gen Gaming",subtitle:"Experience the future of play.",cta:"Shop Consoles"},{id:2,image:"https://images.unsplash.com/photo-1505740420928-5e560c06d30e?auto=format&fit=crop&w=1600&q=80",title:"Audiophile Quality",subtitle:"Immerse yourself in pure sound.",cta:"Explore Audio"},{id:3,image:"https://images.unsplash.com/photo-1526738549149-8e07eca6c147?auto=format&fit=crop&w=1600&q=80",title:"Wearable Tech",subtitle:"Stay connected, stay active.",cta:"View Smartwatches"}],F=()=>{const[i,h]=l.useState(0);return l.useEffect(()=>{const d=setInterval(()=>{h(o=>(o+1)%u.length)},5e3);return()=>clearInterval(d)},[]),e.jsxs("div",{style:{position:"relative",height:"400px",overflow:"hidden",borderRadius:"12px",marginBottom:"32px"},children:[e.jsx(T,{mode:"wait",children:e.jsxs(g.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.8},style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",backgroundImage:`linear-gradient(rgba(0,0,0,0.3), rgba(0,0,0,0.6)), url(${u[i].image})`,backgroundSize:"cover",backgroundPosition:"center",display:"flex",flexDirection:"column",justifyContent:"center",padding:"60px",color:"white"},children:[e.jsx(g.h1,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},style:{fontSize:"3rem",marginBottom:"10px",textShadow:"0 2px 4px rgba(0,0,0,0.5)"},children:u[i].title}),e.jsx(g.p,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.4},style:{fontSize:"1.5rem",marginBottom:"30px",textShadow:"0 1px 2px rgba(0,0,0,0.5)"},children:u[i].subtitle}),e.jsx(g.button,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},whileHover:{scale:1.05},whileTap:{scale:.95},transition:{delay:.6},className:"btn btn-primary",style:{width:"fit-content",padding:"15px 30px",fontSize:"1.1rem"},children:u[i].cta})]},i)}),e.jsx("div",{style:{position:"absolute",bottom:"20px",left:"50%",transform:"translateX(-50%)",display:"flex",gap:"10px"},children:u.map((d,o)=>e.jsx("div",{onClick:()=>h(o),style:{width:"12px",height:"12px",borderRadius:"50%",background:o===i?"white":"rgba(255,255,255,0.5)",cursor:"pointer",transition:"background 0.3s"}},o))})]})},O="/Ecommerce/assets/no-products-dHM4DTYi.png",_=()=>{const[i,h]=l.useState([]),[d,o]=A(),n=d.get("search")||"",s=d.get("category")||"",[c,m]=l.useState(1),x=12,[y,k]=l.useState(""),[p,j]=l.useState({min:0,max:2e3}),[b,C]=l.useState(!1);l.useEffect(()=>{let r="https://techorbit-api.onrender.com/api/products";const a=new URLSearchParams;n&&a.append("search",n),s&&a.append("category",s),a.append("page",c),a.append("limit",x),y&&a.append("sortBy",y),p.min>0&&a.append("minPrice",p.min),p.max<2e3&&a.append("maxPrice",p.max),a.toString()&&(r+=`?${a.toString()}`),fetch(r).then(f=>f.json()).then(f=>{f.message==="success"&&h(f.data)})},[n,s,c,y,p.min,p.max]);const[P,I]=l.useState(["All"]),[w,B]=l.useState([]);l.useEffect(()=>{fetch("https://techorbit-api.onrender.com/api/categories").then(a=>a.json()).then(a=>{a.message==="success"&&I(["All",...a.data.slice(0,10)])});const r=JSON.parse(localStorage.getItem("viewHistory")||"[]");r.length>0&&B(r)},[]);const N=t=>{if(t==="All"){o(r=>(r.delete("category"),r)),m(1);return}s===t?(o(r=>(r.delete("category"),r)),m(1)):(o(r=>(r.set("category",t),r)),m(1))};return e.jsxs(L,{children:[e.jsxs(H,{children:[e.jsx("title",{children:"TechOrbit - Electronics, Fashion & More"}),e.jsx("meta",{name:"description",content:"Shop the best electronics, fashion, and home goods at TechOrbit. Fast shipping and great deals!"})]}),!n&&!s&&e.jsx(F,{}),e.jsxs("div",{className:"container",style:{paddingLeft:0,paddingRight:0,marginTop:"20px"},children:[!n&&!s&&w.length>0&&e.jsxs("div",{style:{marginBottom:"40px"},children:[e.jsx("h2",{style:{fontSize:"24px",fontWeight:"800",marginBottom:"20px",background:"var(--primary-gradient)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",display:"inline-block"},children:"Recently Viewed & Picked for You"}),e.jsx("div",{className:"grid-products",children:w.map(t=>e.jsx(S,{product:t},t.id))})]}),e.jsx("div",{style:{display:"flex",gap:"15px",overflowX:"auto",paddingBottom:"20px",marginBottom:"20px",scrollbarWidth:"none"},children:P.map(t=>e.jsx("button",{onClick:()=>N(t),style:{padding:"10px 20px",borderRadius:"50px",background:s===t||t==="All"&&!s?"var(--primary)":"var(--surface)",color:s===t||t==="All"&&!s?"white":"var(--text-main)",border:"1px solid var(--border)",whiteSpace:"nowrap",fontSize:"14px",fontWeight:"600",boxShadow:"var(--shadow-sm)",transition:"all 0.2s"},children:t},t))}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px",flexWrap:"wrap",gap:"15px"},children:[e.jsxs("button",{onClick:()=>C(!b),className:"btn btn-secondary",style:{display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx("span",{children:"⚙️"})," ",b?"Hide Filters":"Show Filters"]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[e.jsx("span",{style:{fontSize:"14px",fontWeight:"600",color:"var(--text-secondary)"},children:"Sort By:"}),e.jsxs("select",{value:y,onChange:t=>k(t.target.value),style:{padding:"8px",borderRadius:"8px",border:"1px solid var(--border)",background:"var(--surface)",color:"var(--text-main)"},children:[e.jsx("option",{value:"",children:"Default"}),e.jsx("option",{value:"price_asc",children:"Price: Low to High"}),e.jsx("option",{value:"price_desc",children:"Price: High to Low"}),e.jsx("option",{value:"newest",children:"Newest Arrivals"})]})]})]}),b&&e.jsx("div",{style:{background:"var(--surface-hover)",padding:"20px",borderRadius:"12px",marginBottom:"30px",display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"20px",border:"1px solid var(--border)"},children:e.jsxs("div",{children:[e.jsx("h4",{style:{margin:"0 0 10px 0",fontSize:"14px"},children:"Price Range"}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[e.jsx("input",{type:"number",placeholder:"Min",value:p.min,onChange:t=>j({...p,min:Number(t.target.value)}),style:{width:"80px",padding:"8px",borderRadius:"6px",border:"1px solid var(--border)"}}),e.jsx("span",{children:"-"}),e.jsx("input",{type:"number",placeholder:"Max",value:p.max,onChange:t=>j({...p,max:Number(t.target.value)}),style:{width:"80px",padding:"8px",borderRadius:"6px",border:"1px solid var(--border)"}})]})]})}),e.jsxs("div",{children:[n&&e.jsxs("h2",{style:{marginBottom:"20px"},children:['Results for "',n,'"']}),i.length===0?e.jsxs("div",{style:{background:"var(--surface)",padding:"60px",textAlign:"center",borderRadius:"12px"},children:[e.jsx("img",{src:O,alt:"No Items",style:{width:"200px",marginBottom:"20px",opacity:.8}}),e.jsx("h3",{style:{color:"var(--text-secondary)"},children:"No products found"}),e.jsx("p",{style:{color:"var(--text-light)"},children:"Try searching for something else."})]}):e.jsx("div",{className:"grid-products",children:i.map(t=>e.jsx(S,{product:t},t.id))}),e.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"20px",marginTop:"40px"},children:[e.jsx("button",{disabled:c===1,onClick:()=>m(t=>t-1),className:"btn btn-secondary",style:{opacity:c===1?.5:1,cursor:c===1?"not-allowed":"pointer"},children:"Previous"}),e.jsxs("span",{style:{display:"flex",alignItems:"center",fontWeight:"bold"},children:["Page ",c]}),e.jsx("button",{disabled:i.length<x,onClick:()=>m(t=>t+1),className:"btn btn-secondary",style:{opacity:i.length<x?.5:1,cursor:i.length<x?"not-allowed":"pointer"},children:"Next"})]})]})]})]})};export{_ as default};
