import{c as h,u as m,d as g,r as d,j as e}from"./index-gNUQl-Pl.js";const y=()=>{const{id:i}=h(),{user:n}=m(),s=g(),[r,l]=d.useState({title:"",price:"",description:"",category:"",image:""}),[u,c]=d.useState(!0);d.useEffect(()=>{fetch(`https://techorbit-api.onrender.com/api/products/${i}`).then(a=>a.json()).then(a=>{a.message==="success"?l(a.data):(alert("Product not found"),s("/seller")),c(!1)}).catch(()=>{c(!1)})},[i,s]);const t=o=>{l({...r,[o.target.name]:o.target.value})},x=async o=>{o.preventDefault();try{const p=await(await fetch(`https://techorbit-api.onrender.com/api/products/${i}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)})).json();p.message==="updated"?(alert("Product updated successfully"),s("/seller")):alert("Error updating product: "+p.error)}catch(a){alert("Error: "+a.message)}};return!n||n.role!=="seller"?e.jsx("div",{className:"container",children:"Access Denied"}):u?e.jsx("div",{className:"container",children:"Loading..."}):e.jsxs("div",{style:{maxWidth:"600px",margin:"40px auto",background:"var(--surface)",padding:"30px",borderRadius:"8px",boxShadow:"0 2px 10px rgba(0,0,0,0.1)"},children:[e.jsx("h2",{style:{marginBottom:"20px"},children:"Edit Product"}),e.jsxs("form",{onSubmit:x,style:{display:"flex",flexDirection:"column",gap:"20px"},children:[e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",color:"var(--text-secondary)"},children:"Product Title"}),e.jsx("input",{name:"title",value:r.title,onChange:t,placeholder:"Product Title",required:!0,style:{width:"100%",padding:"12px",borderRadius:"8px",border:"1px solid var(--border)",background:"var(--surface-hover)",color:"var(--text-main)"}})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px"},children:[e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",color:"var(--text-secondary)"},children:"Price ($)"}),e.jsx("input",{name:"price",type:"number",step:"0.01",value:r.price,onChange:t,placeholder:"Price",required:!0,style:{width:"100%",padding:"12px",borderRadius:"8px",border:"1px solid var(--border)",background:"var(--surface-hover)",color:"var(--text-main)"}})]}),e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",color:"var(--text-secondary)"},children:"Stock Quantity"}),e.jsx("input",{name:"stock",type:"number",value:r.stock||"",onChange:t,placeholder:"Stock Quantity",required:!0,style:{width:"100%",padding:"12px",borderRadius:"8px",border:"1px solid var(--border)",background:"var(--surface-hover)",color:"var(--text-main)"}})]})]}),e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",color:"var(--text-secondary)"},children:"Category"}),e.jsxs("select",{name:"category",value:r.category,onChange:t,required:!0,style:{width:"100%",padding:"12px",borderRadius:"8px",border:"1px solid var(--border)",background:"var(--surface-hover)",color:"var(--text-main)"},children:[e.jsx("option",{value:"",children:"Select Category"}),e.jsx("option",{value:"Electronics",children:"Electronics"}),e.jsx("option",{value:"Audio",children:"Audio"}),e.jsx("option",{value:"Gaming",children:"Gaming"}),e.jsx("option",{value:"Fashion",children:"Fashion"}),e.jsx("option",{value:"Home",children:"Home"})]})]}),e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",color:"var(--text-secondary)"},children:"Image URL"}),e.jsx("input",{name:"image",value:r.image,onChange:t,placeholder:"Image URL",required:!0,style:{width:"100%",padding:"12px",borderRadius:"8px",border:"1px solid var(--border)",background:"var(--surface-hover)",color:"var(--text-main)"}})]}),e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",color:"var(--text-secondary)"},children:"Description"}),e.jsx("textarea",{name:"description",value:r.description,onChange:t,placeholder:"Description",required:!0,style:{width:"100%",padding:"12px",borderRadius:"8px",border:"1px solid var(--border)",background:"var(--surface-hover)",color:"var(--text-main)",minHeight:"100px"}})]}),e.jsxs("div",{style:{display:"flex",gap:"15px",marginTop:"10px"},children:[e.jsx("button",{type:"submit",className:"btn btn-primary",style:{flex:1,padding:"14px"},children:"Update Product"}),e.jsx("button",{type:"button",onClick:()=>s("/seller"),className:"btn btn-secondary",style:{flex:1,padding:"14px"},children:"Cancel"})]})]})]})};export{y as default};
